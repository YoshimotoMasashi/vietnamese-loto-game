<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LÃ´ TÃ´ Global - Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        [v-cloak] { display: none; }
        .cell { aspect-ratio: 1/1; transition: all 0.2s; }
        .marked { background-color: #ef4444; color: white; transform: scale(0.9); border-radius: 50%; box-shadow: 0 0 8px rgba(239, 68, 68, 0.6); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-100 font-sans">
    <div id="app" v-cloak class="min-h-screen max-w-md mx-auto flex flex-col bg-white shadow-xl relative overflow-hidden">
        
        <div class="fixed top-2 left-0 right-0 z-50 px-4 pointer-events-none">
            <div v-for="log in logs" :key="log.id" class="bg-gray-800/90 text-white text-[10px] py-2 px-4 rounded-full shadow-lg mb-2 text-center animate-fade-in">
                {{ log.message }}
            </div>
        </div>

        <header class="p-3 bg-white border-b flex justify-between items-center sticky top-0 z-40">
            <select v-model="currentLang" @change="updateCurrencyByLang" class="text-xs bg-slate-50 border rounded px-1 py-1 outline-none">
                <option v-for="(l, code) in i18n" :key="code" :value="code">{{ l.name }}</option>
            </select>
            
            <button @click="openWalletModal" class="flex flex-col items-end">
                <span class="text-[9px] text-gray-400 font-bold italic leading-none">WALLET <i class="fas fa-edit"></i></span>
                <span class="font-bold text-green-600 leading-tight">{{ wallet.currency }} {{ wallet.amount.toLocaleString() }}</span>
            </button>
        </header>

        <main v-if="gameState === 'HOME'" class="flex-grow p-6 flex flex-col justify-center space-y-6">
            <div class="text-center space-y-2">
                <h1 class="text-4xl font-black text-red-600 italic tracking-tighter">LÃ” TÃ”</h1>
                <p class="text-xs text-gray-400 font-bold tracking-widest uppercase">{{ t.welcome }}</p>
            </div>

            <div class="space-y-3">
                <button @click="initGame('SOLO')" class="w-full bg-slate-800 text-white p-5 rounded-2xl flex items-center shadow-lg active:scale-95 transition">
                    <i class="fas fa-user-ninja text-2xl mr-4"></i>
                    <div class="text-left"><p class="font-bold">{{ t.solo }}</p><p class="text-[10px] opacity-60 italic">{{ t.soloSub }}</p></div>
                </button>

                <button @click="initGame('MULTI')" class="w-full bg-red-600 text-white p-5 rounded-2xl flex items-center shadow-lg active:scale-95 transition">
                    <i class="fas fa-users text-2xl mr-4"></i>
                    <div class="text-left"><p class="font-bold">{{ t.multi }}</p><p class="text-[10px] opacity-80 italic">{{ t.multiSub }}</p></div>
                </button>
            </div>
        </main>

        <main v-else-if="gameState === 'SETUP'" class="flex-grow p-6 space-y-8 animate-fade-in">
            <h2 class="text-center font-black text-xl text-slate-700 underline decoration-red-500">{{ t.setupTitle }}</h2>
            
            <section class="space-y-3">
                <label class="text-xs font-black text-gray-500 uppercase">{{ t.ticketCount }}</label>
                <div class="grid grid-cols-4 gap-2">
                    <button v-for="n in 4" :key="n" @click="ticketCount = n"
                        :class="ticketCount === n ? 'bg-red-600 text-white ring-4 ring-red-100' : 'bg-slate-100 text-slate-400'"
                        class="py-3 rounded-xl font-bold transition">{{ n }}</button>
                </div>
            </section>

            <section class="space-y-3">
                <label class="text-xs font-black text-gray-500 uppercase">{{ t.betAmount }}</label>
                <div class="flex items-center bg-slate-100 p-4 rounded-xl">
                    <span class="font-bold text-slate-400 mr-2">{{ wallet.currency }}</span>
                    <input type="number" v-model.number="betAmount" class="bg-transparent text-2xl font-black w-full outline-none">
                </div>
            </section>

            <div class="pt-4">
                <button @click="startGame" class="w-full bg-red-600 text-white py-5 rounded-2xl font-black text-xl shadow-xl active:translate-y-1 transition">
                    {{ t.startBtn }}
                </button>
                <button @click="gameState = 'HOME'" class="w-full py-4 text-xs font-bold text-gray-400 uppercase tracking-widest italic">Cancel</button>
            </div>
        </main>

        <main v-else class="flex-grow flex flex-col h-full overflow-hidden">
            <div class="bg-slate-900 text-white p-4 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-slate-900 text-3xl font-black shadow-inner border-4 border-red-500">
                        {{ currentNumber || '--' }}
                    </div>
                    <div>
                        <p class="text-[10px] text-red-500 font-black italic">{{ t.drawn }}</p>
                        <p class="text-xl font-bold tracking-tighter">{{ drawnHistory.length }} / 90</p>
                    </div>
                </div>
                <div class="flex flex-col items-end space-y-1">
                    <button v-if="roomId" @click="showShareModal = true" class="bg-red-600 text-[10px] font-black px-3 py-1.5 rounded-full flex items-center">
                        <i class="fas fa-share-alt mr-1"></i> SHARE
                    </button>
                    <span class="text-[8px] font-mono" :class="syncStatus.includes('Online') ? 'text-green-400' : 'text-yellow-400'">
                        {{ syncStatus }}
                    </span>
                </div>
            </div>

            <div class="flex-grow overflow-y-auto p-4 space-y-6 no-scrollbar bg-slate-50 pb-32">
                <div v-for="(card, cIdx) in myCards" :key="cIdx" class="bg-white p-2 rounded-xl shadow-md border border-slate-200">
                    <p class="text-[9px] font-black text-slate-300 mb-1">TICKET #{{ cIdx + 1 }}</p>
                    <div v-for="(row, rIdx) in card" :key="rIdx" class="grid grid-cols-9 gap-1 mb-1">
                        <div v-for="(num, nIdx) in row" :key="nIdx" 
                             class="cell flex items-center justify-center text-sm font-bold border rounded-sm"
                             :class="[num === 0 ? 'bg-slate-50 border-transparent' : 'bg-white border-slate-200', drawnHistory.includes(num) ? 'marked' : '']">
                            {{ num !== 0 ? num : '' }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="absolute bottom-0 left-0 right-0 p-4 bg-white/90 backdrop-blur-md border-t flex space-x-2">
                <button @click="confirmQuit" class="p-4 bg-slate-200 text-slate-600 rounded-2xl active:bg-slate-300 transition">
                    <i class="fas fa-home"></i>
                </button>
                <button @click="checkKinh" class="flex-grow bg-red-600 text-white py-4 rounded-2xl font-black text-2xl shadow-lg active:scale-95 transition italic tracking-tighter">
                    KINH!
                </button>
            </div>
        </main>

        <div v-if="showShareModal" class="fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-sm animate-fade-in">
            <div class="bg-white rounded-3xl w-full p-8 text-center space-y-6">
                <h3 class="font-black text-xl italic tracking-tighter text-red-600 uppercase">Room Sharing</h3>
                <div id="qrcode" class="flex justify-center mx-auto"></div>
                <div class="bg-slate-100 p-3 rounded-xl break-all text-[10px] font-mono text-slate-500">
                    {{ shareUrl }}
                </div>
                <div class="grid grid-cols-2 gap-2">
                    <button @click="copyLink" class="bg-slate-800 text-white py-3 rounded-xl font-bold text-sm">Copy Link</button>
                    <button @click="showShareModal = false" class="bg-slate-200 text-slate-600 py-3 rounded-xl font-bold text-sm">Close</button>
                </div>
            </div>
        </div>

        <div v-if="showWalletModal" class="fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-sm animate-fade-in">
            <div class="bg-white rounded-3xl w-full p-8 space-y-4 shadow-2xl">
                <h3 class="font-black text-xl italic"><i class="fas fa-wallet text-green-500 mr-2"></i>Edit Wallet</h3>
                <div>
                    <label class="text-[10px] font-black text-gray-400 uppercase">Currency Unit</label>
                    <input type="text" v-model="tempWallet.currency" class="w-full p-3 bg-slate-100 rounded-xl font-bold outline-none border-2 border-transparent focus:border-green-500 transition">
                </div>
                <div>
                    <label class="text-[10px] font-black text-gray-400 uppercase">Balance</label>
                    <input type="number" v-model.number="tempWallet.amount" class="w-full p-3 bg-slate-100 rounded-xl font-bold text-2xl outline-none border-2 border-transparent focus:border-green-500 transition">
                </div>
                <div class="flex space-x-2 pt-4">
                    <button @click="showWalletModal = false" class="flex-1 py-3 text-slate-400 font-bold">Cancel</button>
                    <button @click="saveWallet" class="flex-1 bg-green-600 text-white py-3 rounded-xl font-bold shadow-lg">Save Changes</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- Firebase Configuration (Provided by User) ---
        const firebaseConfig = {
            apiKey: "AIzaSyAqKCaLzCoGY6e87gHmeRAAawN5yrVeFcg",
            authDomain: "loto-vn.firebaseapp.com",
            databaseURL: "https://loto-vn-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "loto-vn",
            storageBucket: "loto-vn.firebasestorage.app",
            messagingSenderId: "403754138736",
            appId: "1:403754138736:web:9e8927bf43a86f299bc8b5",
            measurementId: "G-R4Q6NS3MT8"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // --- I18n Dictionary (æ±å—ã‚¢ã‚¸ã‚¢è«¸å›½èªžè¿½åŠ ) ---
        const i18n = {
            vi: { name: "Tiáº¿ng Viá»‡t", cur: "â‚«", welcome: "ChÃ o má»«ng", solo: "ChÆ¡i má»™t mÃ¬nh", soloSub: "Luyá»‡n táº­p vá»›i CPU", multi: "ChÆ¡i nhiá»u ngÆ°á»i", multiSub: "Chia sáº» mÃ£ phÃ²ng", setupTitle: "Thiáº¿t láº­p", ticketCount: "Sá»‘ lÆ°á»£ng vÃ©", betAmount: "Má»©c cÆ°á»£c", startBtn: "Báº®T Äáº¦U", drawn: "ÄÃ£ bá»‘c", quitMsg: "Báº¡n cÃ³ cháº¯c muá»‘n thoÃ¡t?", shareSuccess: "ÄÃ£ sao chÃ©p liÃªnã‚¯!" },
            en: { name: "English", cur: "$", welcome: "Welcome", solo: "Solo Mode", soloSub: "Practice with CPU", multi: "Multiplayer", multiSub: "Share Room ID", setupTitle: "Setup Game", ticketCount: "Tickets", betAmount: "Bet Amount", startBtn: "START GAME", drawn: "Balls", quitMsg: "Quit current game?", shareSuccess: "Copied link!" },
            ja: { name: "æ—¥æœ¬èªž", cur: "Â¥", welcome: "ã‚ˆã†ã“ã", solo: "ã²ã¨ã‚Šã§éŠã¶", soloSub: "CPUã¨ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰", multi: "ã¿ã‚“ãªã§éŠã¶", multiSub: "ãƒ«ãƒ¼ãƒ å…±æœ‰ãƒ»åŒæœŸ", setupTitle: "ã‚²ãƒ¼ãƒ è¨­å®š", ticketCount: "ãƒã‚±ãƒƒãƒˆæžšæ•°", betAmount: "è³­ã‘é‡‘", startBtn: "ã‚²ãƒ¼ãƒ é–‹å§‹", drawn: "æŠ½é¸æ¸ˆã¿", quitMsg: "ãƒˆãƒƒãƒ—ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿ", shareSuccess: "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼" },
            fr: { name: "FranÃ§ais", cur: "â‚¬", welcome: "Bienvenue", solo: "Mode Solo", soloSub: "S'entraÃ®ner", multi: "Multijoueur", multiSub: "Partager salle", setupTitle: "Configuration", ticketCount: "Tickets", betAmount: "Mise", startBtn: "JOUER", drawn: "TirÃ©s", quitMsg: "Quitter le jeu?", shareSuccess: "Lien copiÃ©!" },
            zh: { name: "ç®€ä½“ä¸­æ–‡", cur: "Â¥", welcome: "æ¬¢è¿Ž", solo: "å•äººæ¨¡å¼", soloSub: "ä¸ŽCPUç»ƒä¹ ", multi: "å¤šäººæ¨¡å¼", multiSub: "åˆ†äº«æˆ¿é—´", setupTitle: "æ¸¸æˆè®¾ç½®", ticketCount: "ç¥¨æ•°", betAmount: "èµŒæ³¨", startBtn: "å¼€å§‹æ¸¸æˆ", drawn: "å·²æŠ½", quitMsg: "é€€å‡ºå½“å‰æ¸¸æˆå—ï¼Ÿ", shareSuccess: "é“¾æŽ¥å·²å¤åˆ¶ï¼" },
            lo: { name: "àº¥àº²àº§", cur: "â‚­", welcome: "àºàº´àº™àº”àºµàº•à»‰àº­àº™àº®àº±àºš", solo: "àº«àº¼àº´à»‰àº™àº„àº»àº™àº”àº½àº§", soloSub: "àºàº¶àºàºàº±àºš CPU", multi: "àº«àº¼àº´à»‰àº™àº™àº³àºàº±àº™", multiSub: "à»àºšà»ˆàº‡àº›àº±àº™àº¥àº°àº«àº±àº”àº«à»‰àº­àº‡", setupTitle: "àº•àº±à»‰àº‡àº„à»ˆàº²", ticketCount: "àºˆàº³àº™àº§àº™à»ƒàºš", betAmount: "à»€àº‡àº´àº™à»€àº”àºµàº¡àºžàº±àº™", startBtn: "à»€àº¥àºµà»ˆàº¡à»€àºàº¡", drawn: "àº­àº­àºà»àº¥à»‰àº§", quitMsg: "àº­àº­àºàºˆàº²àºà»€àºàº¡?", shareSuccess: "àºàº±àº­àºšàº›àºµà»‰à»àº¥à»‰àº§!" },
            th: { name: "à¹„à¸—à¸¢", cur: "à¸¿", welcome: "à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸š", solo: "à¹€à¸¥à¹ˆà¸™à¸„à¸™à¹€à¸”à¸µà¸¢à¸§", soloSub: "à¸à¸¶à¸à¸‹à¹‰à¸­à¸¡à¸à¸±à¸š CPU", multi: "à¹€à¸¥à¹ˆà¸™à¸«à¸¥à¸²à¸¢à¸„à¸™", multiSub: "à¹à¸Šà¸£à¹Œà¸£à¸«à¸±à¸ªà¸«à¹‰à¸­à¸‡", setupTitle: "à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹€à¸à¸¡", ticketCount: "à¸ˆà¸³à¸™à¸§à¸™à¹ƒà¸š", betAmount: "à¹€à¸‡à¸´à¸™à¹€à¸”à¸´à¸¡à¸žà¸±à¸™", startBtn: "à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸à¸¡", drawn: "à¸­à¸­à¸à¹à¸¥à¹‰à¸§", quitMsg: "à¸­à¸­à¸à¸ˆà¸²à¸à¹€à¸à¸¡à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?", shareSuccess: "à¸„à¸±à¸”à¸¥à¸­à¸à¸¥à¸´à¸‡à¸à¹Œà¹à¸¥à¹‰à¸§!" },
            km: { name: "ážáŸ’áž˜áŸ‚ážš", cur: "áŸ›", welcome: "ážŸáž¼áž˜ážŸáŸ’ážœáž¶áž‚áž˜áž“áŸ", solo: "áž›áŸáž„áž˜áŸ’áž“áž¶áž€áŸ‹áž¯áž„", soloSub: "áž áž¶ážáŸ‹áž‡áž¶áž˜áž½áž™ CPU", multi: "áž›áŸáž„áž‡áž¶áž˜áž½áž™áž‚áŸ’áž“áž¶", multiSub: "áž…áŸ‚áž€ážšáŸ†áž›áŸ‚áž€áž›áŸážáž”áž“áŸ’áž‘áž”áŸ‹", setupTitle: "áž€áž¶ážšážšáŸ€áž”áž…áŸ†", ticketCount: "áž…áŸ†áž“áž½áž“ážŸáž“áŸ’áž›áž¹áž€", betAmount: "áž…áŸ†áž“áž½áž“áž—áŸ’áž“áž¶áž›áŸ‹", startBtn: "áž…áž¶áž”áŸ‹áž•áŸ’ážŠáž¾áž˜", drawn: "áž…áŸáž‰áž áž¾áž™", quitMsg: "áž…áž¶áž€áž…áŸáž‰áž–áž¸áž áŸ’áž‚áŸáž˜?", shareSuccess: "áž…áž˜áŸ’áž›áž„ážšáž½áž…ážšáž¶áž›áŸ‹!" }
        };

        const { createApp, ref, reactive, computed, watch, onMounted } = Vue;

        createApp({
            setup() {
                // --- State ---
                const currentLang = ref('vi');
                const t = computed(() => i18n[currentLang.value]);
                const gameState = ref('HOME');
                const mode = ref('SOLO');
                const wallet = reactive({ amount: 10000, currency: 'â‚«' });
                const tempWallet = reactive({ amount: 0, currency: '' });
                const showWalletModal = ref(false);
                const showShareModal = ref(false);
                
                const ticketCount = ref(1);
                const betAmount = ref(100);
                const myCards = ref([]);
                const currentNumber = ref(null);
                const drawnHistory = ref([]);
                const roomId = ref(new URLSearchParams(window.location.search).get('room'));
                const syncStatus = ref('Stand-alone');
                const logs = ref([]);

                // --- Helpers ---
                const addLog = (msg) => {
                    const id = Date.now();
                    logs.value.push({ id, message: msg });
                    setTimeout(() => logs.value = logs.value.filter(l => l.id !== id), 3000);
                };

                const updateCurrencyByLang = () => {
                    wallet.currency = t.value.cur;
                    addLog(`Language changed to ${t.value.name}`);
                };

                // --- Logic: Card Generation ---
                const generateTicket = () => {
                    let card = [Array(9).fill(0), Array(9).fill(0), Array(9).fill(0)];
                    for(let r=0; r<3; r++) {
                        let cols = [0,1,2,3,4,5,6,7,8].sort(()=>Math.random()-0.5).slice(0,5).sort();
                        cols.forEach(c => {
                            let min = c * 10 + 1, max = c * 10 + 10;
                            if(c === 8) max = 90;
                            let n; do { n = Math.floor(Math.random() * (max - min + 1)) + min; } while(card[0][c] === n || card[1][c] === n);
                            card[r][c] = n;
                        });
                    }
                    return card;
                };

                // --- Actions ---
                const initGame = (m) => {
                    mode.value = m;
                    if(m === 'MULTI' && !roomId.value) {
                        const id = Math.random().toString(36).substring(2, 7).toUpperCase();
                        window.history.pushState({}, '', `?room=${id}`);
                        roomId.value = id;
                    }
                    gameState.value = 'SETUP';
                };

                const startGame = () => {
                    if(wallet.amount < betAmount.value) return alert("Insufficient funds");
                    wallet.amount -= (betAmount.value * ticketCount.value);
                    myCards.value = Array.from({length: ticketCount.value}, () => generateTicket());
                    gameState.value = 'PLAYING';
                    if(mode.value === 'SOLO') startSoloTimer(); else syncFirebase();
                };

                let timer = null;
                const startSoloTimer = () => {
                    timer = setInterval(() => {
                        if(drawnHistory.value.length >= 90 || gameState.value !== 'PLAYING') return clearInterval(timer);
                        let n; do { n = Math.floor(Math.random()*90)+1; } while(drawnHistory.value.includes(n));
                        currentNumber.value = n;
                        drawnHistory.value.push(n);
                    }, 3000);
                };

                const syncFirebase = () => {
                    const ref = db.ref(`rooms/${roomId.value}`);
                    db.ref('.info/connected').on('value', s => syncStatus.value = s.val() ? 'ðŸŸ¢ Online Sync' : 'ðŸ”´ Offline');
                    ref.on('value', s => {
                        const val = s.val();
                        if(val) {
                            if(val.num) currentNumber.value = val.num;
                            if(val.his) drawnHistory.value = val.his;
                            if(val.msg) addLog(val.msg);
                        }
                    });
                    // ãƒ›ã‚¹ãƒˆå´ã®ç°¡æ˜“ãƒ­ã‚¸ãƒƒã‚¯
                    if(!timer) timer = setInterval(() => {
                        if(drawnHistory.value.length < 90) {
                            let n; do { n = Math.floor(Math.random()*90)+1; } while(drawnHistory.value.includes(n));
                            ref.update({ num: n, his: [...drawnHistory.value, n] });
                        }
                    }, 4000);
                };

                const checkKinh = () => {
                    const win = myCards.value.some(card => card.some(row => {
                        const nums = row.filter(n => n !== 0);
                        return nums.length > 0 && nums.every(n => drawnHistory.value.includes(n));
                    }));
                    if(win) {
                        alert("KINH! YOU WIN!");
                        wallet.amount += (betAmount.value * 10);
                        confirmQuit();
                    } else alert("ChÆ°a Kinh! (Not yet)");
                };

                const confirmQuit = () => {
                    if(confirm(t.value.quitMsg)) {
                        clearInterval(timer);
                        gameState.value = 'HOME';
                        drawnHistory.value = [];
                        currentNumber.value = null;
                    }
                };

                // --- Wallet & UI ---
                const openWalletModal = () => {
                    const old = wallet.amount;
                    tempWallet.amount = wallet.amount; tempWallet.currency = wallet.currency;
                    showWalletModal.value = true;
                };

                const saveWallet = () => {
                    if(gameState.value === 'PLAYING' && !confirm(`Confirm change from ${wallet.amount} to ${tempWallet.amount}?`)) return;
                    const msg = `Wallet updated: ${wallet.amount} -> ${tempWallet.amount}`;
                    wallet.amount = tempWallet.amount; wallet.currency = tempWallet.currency;
                    showWalletModal.value = false;
                    addLog(msg);
                    if(roomId.value) db.ref(`rooms/${roomId.value}`).update({ msg });
                };

                const copyLink = () => {
                    navigator.clipboard.writeText(window.location.href);
                    addLog(t.value.shareSuccess);
                };

                watch(showShareModal, (val) => {
                    if(val) setTimeout(() => {
                        document.getElementById('qrcode').innerHTML = "";
                        new QRCode(document.getElementById("qrcode"), { text: window.location.href, width: 180, height: 180 });
                    }, 100);
                });

                onMounted(() => {
                    const userLang = navigator.language.split('-')[0];
                    if(i18n[userLang]) currentLang.value = userLang; else currentLang.value = 'vi';
                    updateCurrencyByLang();
                });

                return { 
                    currentLang, t, i18n, gameState, wallet, tempWallet, showWalletModal, showShareModal,
                    ticketCount, betAmount, myCards, currentNumber, drawnHistory, roomId, syncStatus, logs,
                    shareUrl: window.location.href, initGame, startGame, checkKinh, confirmQuit, openWalletModal, saveWallet, copyLink, updateCurrencyByLang
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
